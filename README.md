# Курсовая работа №5. Работа с базами данных 

## Описание
Проект представляет собой программу, которая может получать информацию о вакансиях с платформы **HeadHunter**
(реализовано взаимодействие с API HeadHunter через библиотеку **requests**),
сохранять ее в базу данных **Postgress** (постредством библиотеки **psycopg2**)
и позволяет потом делать из неё некоторые выборки (в соответствии с заданием на Курсовую работу).

Запрашиваются вакансии по 10 выбранным заранее работодателям.

При загрузке информации, если такая вакансия уже есть в БД, она обновляется.

## Интерфейс
В программе реализован интерфейс командной строки. Вид главного меню:
```
Выберите действие (1):
    0. Создать таблицы.
    1. Загрузить вакансии с сайта в БД.
    2. Получить список всех компаний и количество вакансий у каждой компании.
    3. Получить список всех вакансий с указанием названия компании, названия вакансии и зарплаты и ссылки на вакансию.
    4. Получить среднюю зарплату по вакансиям.
    5. Получить список всех вакансий, у которых зарплата выше средней по всем вакансиям.
    6. Получить список всех вакансий, в названии которых содержится ключевое слово. 
    7. Завершить работу программы.
    = >
```
- С помощью пункта **0** можно создать таблицы БД, если они ещё не созданы.  
- С помощью пункта **1** можно загрузить с сайта HeadHunter вакансии.  
- С помощью пункта **2** можно получить список всех загруженных компаний и количество вакансий у каждой компании.  
- С помощью пункта **3** можно получить список всех вакансий с указанием названия компании, названия вакансии и зарплаты и ссылки на вакансию.
- С помощью пункта **4** можно получить среднюю зарплату по всем вакансиям.
- С помощью пункта **5** можно получить список всех вакансий, у которых зарплата выше средней по всем вакансиям.
- С помощью пункта **6** можно получить список всех вакансий, в названии которых содержится ключевое слово, например “python”.
- При выборе пункта **7** происходит выход из программы.

## Путеводитель по коду
Кода разбит на модули: api, DB, vacancy.

В модуле api находятся классы для работы с API сайта HeadHunter:

в файле api.py - абстрактный класс Engine, обозначающий необходимые методы для работы с API.
в файле hh.py - класс HH, реализующий работу с API сайта HeadHunter.

В модуле DB в файле db_manager.py находится класс DBManager, служащий для работы с базой данных для сохранения и выборки загруженных с сайтов вакансий

В модуле vacancy находятся классы для работы с загруженнымы в память вакансиями:

в файле vacancy.py - класс Vacancy, объединяющий общие методы работы с вакансиями.
в файле hh.py - класс HHVacancy, реализующий работу с васансией HeadHunter.

Так же в модуле vacancy.py реализован класс VacancyCollection, который реализует набор вакансий.

В модуле utils реализованы вспомогательные функции.

В модуле main, помимо функции main() реализовано главное меню программы.

В коде применяются декораторы @staticmethod, @property, @abstractmethod.

В коде используется наследование, полиморфизм классов и инкапсуляция данных.

В проекте используется виртуальное окружение на основе venv.
